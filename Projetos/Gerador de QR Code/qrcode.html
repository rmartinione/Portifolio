<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de QR Code</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #FF5733, #FFC300);
            margin: 0;
        }
        .container {
            text-align: center;
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        input, select, button {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid #ccc;
            width: 100%;
            box-sizing: border-box;
        }
        button {
            background-color: #4CAF50;
            color: #fff;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }
        button:hover {
            background-color: #45a049;
            transform: scale(1.05);
        }
        img {
            margin-top: 20px;
            width: 150px;
        }
        .buttons {
            display: flex;
            justify-content: space-between;
        }
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            display: none;
        }
        .popup h2 {
            color: #333;
        }
        .popup p {
            color: #666;
        }
        .qr-code-container {
            display: none;
        }
        .feedback {
            color: green;
            margin-top: 10px;
        }
    </style>
    <script>
        function gerarQRCode() {
            var link = document.getElementById("link").value;
            if (link === "") {
                alert("Por favor, insira um link.");
                return;
            }
            var tamanho = document.getElementById("tamanho").value;
            var correcao = document.getElementById("correcao").value;
            var qrCodeImg = document.getElementById("qrCodeImg");
            qrCodeImg.src = "https://api.qrserver.com/v1/create-qr-code/?size=" + tamanho + "&data=" + encodeURIComponent(link) + "&ecc=" + correcao;

            document.getElementById("qrCodeContainer").style.display = "block";
            document.getElementById("feedback").innerText = "QR Code gerado com sucesso!";
        }

        function imprimirQRCode() {
            var link = document.getElementById("link").value;
            if (link === "") {
                alert("Por favor, insira um link.");
                return;
            }
            gerarQRCode();
            setTimeout(function() {
                var printWindow = window.open('', '_blank');
                printWindow.document.write('<html><head><title>Imprimir QR Code</title></head><body>');
                printWindow.document.write('<h1>QR Code</h1>');
                printWindow.document.write('<img src="' + document.getElementById("qrCodeImg").src + '">');
                printWindow.document.write('<footer><p>Gerado por Gerador de QR Code</p></footer>');
                printWindow.document.close();
                printWindow.print();
            }, 500); // Aguarda 500ms para garantir que o QR code seja gerado
        }

        function copiarQRCode() {
            var qrCodeImg = document.getElementById("qrCodeImg");
            if (qrCodeImg.src === "") {
                alert("Por favor, gere um QR code primeiro.");
                return;
            }
            var tempInput = document.createElement("input");
            tempInput.value = qrCodeImg.src;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand("copy");
            document.body.removeChild(tempInput);
            alert("QR code copiado para a área de transferência.");
        }

        function limparCampos() {
            document.getElementById("link").value = "";
            document.getElementById("qrCodeImg").src = "";
            document.getElementById("qrCodeContainer").style.display = "none";
            document.getElementById("feedback").innerText = "";
        }

        function mostrarPopup() {
            document.getElementById("popup").style.display = "block";
        }

        function fecharPopup() {
            document.getElementById("popup").style.display = "none";
        }

        window.onload = function() {
            mostrarPopup();
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>Gerador de QR Code</h1>
        <!--img src="" alt="Logo"-->
        <input type="text" id="link" placeholder="Insira o link aqui" aria-label="Insira o link aqui">
        <select id="tamanho" aria-label="Selecione o tamanho do QR Code">
            <option value="150x150">150 x 150</option>
            <option value="200x200">200 x 200</option>
            <option value="250x250">250 x 250</option>
            <option value="300x300">300 x 300</option>
            <option value="350x350">350 x 350</option>
            <option value="400x400">400 x 400</option>
            <option value="450x450">450 x 450</option>
            <option value="500x500">500 x 500</option>
            <option value="550x550">550 x 550</option>
            <option value="600x600">600 x 600</option>
            <option value="650x650">650 x 650</option>
            <option value="700x700">700 x 700</option>
            <option value="750x750">750 x 750</option>
            <option value="etiqueta">Tamanho de Etiqueta</option>
        </select>
        <select id="correcao" aria-label="Selecione o nível de correção de erros">
            <option value="L">L (Baixo)</option>
            <option value="M">M (Médio)</option>
            <option value="Q">Q (Alto)</option>
            <option value="H">H (Muito Alto)</option>
        </select>
        <div class="buttons">
            <button onclick="gerarQRCode()" aria-label="Gerar QR Code">Gerar QR Code</button>
            <button onclick="imprimirQRCode()" aria-label="Imprimir em PDF">Imprimir em PDF</button>
            <button onclick="copiarQRCode()" aria-label="Copiar QR Code">Copiar QR Code</button>
            <button onclick="limparCampos()" aria-label="Limpar campos">Limpar</button>
        </div>
        <div id="qrCodeContainer" class="qr-code-container">
            <img id="qrCodeImg" alt="QR Code">
        </div>
        <div id="feedback" class="feedback" aria-live="polite"></div>
    </div>

    <div id="popup" class="popup" role="dialog" aria-labelledby="popupTitle" aria-describedby="popupDesc">
        <h2 id="popupTitle">Como usar o Gerador de QR Code</h2>
        <p id="popupDesc">Para gerar um QR code, insira o link desejado no campo de entrada. Selecione o tamanho e o nível de correção de erros. Clique no botão "Gerar QR Code" para visualizar o código. Você pode imprimir o QR code em PDF, copiar o QR code ou limpar os campos.</p>
        <p>Quanto maior o link, mais dados serão adicionados ao QR code, o que pode afetar a legibilidade. Em alguns casos, é recomendável usar um encurtador de URL para simplificar o QR code.</p>
        <p>Ao gerar o QR code e copiá-lo para a área de transferência, cancele a impressão e mande imprimir novamente para visualizar o QR code. Alternativamente, cole o endereço gerado no navegador e mande imprimir para visualizar o QR code devido ao atraso.</p>
        <p>Para etiquetas, selecione a opção "Tamanho de Etiqueta" no menu de tamanhos.</p>
        <button onclick="fecharPopup()" aria-label="Fechar popup">OK</button>
    </div>
</body>
</html>